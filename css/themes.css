/* ==================== 主题变量定义 ==================== */

/* 默认主题 (杂志风格) */
:root {
    /* 核心色彩 - High Contrast Magazine Style */
    --primary: #1e4a8d;
    /* 深沉的皇家蓝 */
    --primary-light: #3a6ab3;
    --primary-dark: #123466;
    --secondary: #fa7ec5;
    /* 充满活力的粉色 */
    --accent: #dede29;
    /* 荧光黄点缀 */

    /* 功能色 */
    --success: #22c55e;
    --warning: #f59e0b;
    --error: #ef4444;
    --info: #3b82f6;

    /* 背景色 */
    --bg-primary: #f2f2f7;
    /* 极浅灰底色 */
    --bg-secondary: #ffffff;
    /* 纯白内容区 */
    --bg-tertiary: #e5e5ea;
    /* 浅灰分隔 */
    --bg-elevated: #ffffff;
    /* 浮层背景 */

    /* 文字色 */
    --text-primary: #1c1c1e;
    /* 近乎纯黑 */
    --text-secondary: #3a3a3c;
    --text-muted: #8e8e93;

    /* 边框与阴影 - Hard & Sharp */
    --border-color: #d1d1d6;
    --border-light: #e5e5ea;
    --border-width: 2px;

    --radius-sm: 2px;
    --radius-md: 4px;
    --radius-lg: 8px;

    /* 硬阴影风格 */
    --shadow-sm: 2px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 4px 4px 0 rgba(0, 0, 0, 0.05);
    --shadow-lg: 8px 8px 0 rgba(0, 0, 0, 0.05);
    --shadow-glow: 0 0 0 4px rgba(30, 74, 141, 0.15);
}

/* 杂志亮色主题 (同默认) */
[data-theme="light"] {
    /* 保持与 root 一致 */
    --bg-primary: #f2f2f7;
    --bg-secondary: #ffffff;
    --bg-tertiary: #e5e5ea;
    --bg-elevated: #ffffff;

    --text-primary: #1c1c1e;
    --text-secondary: #3a3a3c;
    --text-muted: #8e8e93;

    --border-color: #d1d1d6;
    --border-light: #e5e5ea;

    --shadow-sm: 2px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 4px 4px 0 rgba(0, 0, 0, 0.05);
    --shadow-lg: 8px 8px 0 rgba(0, 0, 0, 0.05);
}

/* 紫色主题 - Magazine Pop */
[data-theme="purple"] {
    --primary: #6d28d9;
    --primary-light: #8b5cf6;
    --primary-dark: #5b21b6;
    --secondary: #f472b6;
    --accent: #bef264;

    --bg-primary: #faf5ff;
    --bg-secondary: #ffffff;
    --bg-tertiary: #f3e8ff;
    --bg-elevated: #ffffff;

    --text-primary: #1e1b4b;
    --text-secondary: #4c1d95;
    --text-muted: #7c3aed;

    --border-color: #e9d5ff;
    --border-light: #f3e8ff;

    --shadow-glow: 0 0 0 4px rgba(109, 40, 217, 0.15);
}

/* 绿色主题 - Eco Pop */
[data-theme="green"] {
    --primary: #059669;
    --primary-light: #34d399;
    --primary-dark: #047857;
    --secondary: #a3e635;
    --accent: #fcd34d;

    --bg-primary: #f0fdf4;
    --bg-secondary: #ffffff;
    --bg-tertiary: #dcfce7;
    --bg-elevated: #ffffff;

    --text-primary: #064e3b;
    --text-secondary: #065f46;
    --text-muted: #10b981;

    --border-color: #bbf7d0;
    --border-light: #dcfce7;

    --shadow-glow: 0 0 0 4px rgba(5, 150, 105, 0.15);
}

/* 橙色主题 - Retro Pop */
[data-theme="orange"] {
    --primary: #ea580c;
    --primary-light: #fb923c;
    --primary-dark: #c2410c;
    --secondary: #fcd34d;
    --accent: #22d3ee;

    --bg-primary: #fff7ed;
    --bg-secondary: #ffffff;
    --bg-tertiary: #ffedd5;
    --bg-elevated: #ffffff;

    --text-primary: #7c2d12;
    --text-secondary: #9a3412;
    --text-muted: #f97316;

    --border-color: #fed7aa;
    --border-light: #ffedd5;

    --shadow-glow: 0 0 0 4px rgba(234, 88, 12, 0.15);
}

/* 粉色主题 - Candy Pop */
[data-theme="pink"] {
    --primary: #db2777;
    --primary-light: #f472b6;
    --primary-dark: #be185d;
    --secondary: #fb7185;
    --accent: #67e8f9;

    --bg-primary: #fdf2f8;
    --bg-secondary: #ffffff;
    --bg-tertiary: #fce7f3;
    --bg-elevated: #ffffff;

    --text-primary: #831843;
    --text-secondary: #9d174d;
    --text-muted: #ec4899;

    --border-color: #fbcfe8;
    --border-light: #fce7f3;

    --shadow-glow: 0 0 0 4px rgba(219, 39, 119, 0.15);
}

/* 蓝色主题 - Tech Pop */
[data-theme="blue"] {
    --primary: #2563eb;
    --primary-light: #60a5fa;
    --primary-dark: #1d4ed8;
    --secondary: #22d3ee;
    --accent: #f472b6;

    --bg-primary: #eff6ff;
    --bg-secondary: #ffffff;
    --bg-tertiary: #dbeafe;
    --bg-elevated: #ffffff;

    --text-primary: #1e3a8a;
    --text-secondary: #1e40af;
    --text-muted: #3b82f6;

    --border-color: #bfdbfe;
    --border-light: #dbeafe;

    --shadow-glow: 0 0 0 4px rgba(37, 99, 235, 0.15);
}

/* 红色主题 - Bold Pop */
[data-theme="red"] {
    --primary: #dc2626;
    --primary-light: #f87171;
    --primary-dark: #b91c1c;
    --secondary: #fbbf24;
    --accent: #22d3ee;

    --bg-primary: #fef2f2;
    --bg-secondary: #ffffff;
    --bg-tertiary: #fee2e2;
    --bg-elevated: #ffffff;

    --text-primary: #7f1d1d;
    --text-secondary: #991b1b;
    --text-muted: #ef4444;

    --border-color: #fecaca;
    --border-light: #fee2e2;

    --shadow-glow: 0 0 0 4px rgba(220, 38, 38, 0.15);
}

/* 青色主题 - Fresh Pop */
[data-theme="cyan"] {
    --primary: #0891b2;
    --primary-light: #22d3ee;
    --primary-dark: #0e7490;
    --secondary: #4ade80;
    --accent: #f472b6;

    --bg-primary: #ecfeff;
    --bg-secondary: #ffffff;
    --bg-tertiary: #cffafe;
    --bg-elevated: #ffffff;

    --text-primary: #164e63;
    --text-secondary: #155e75;
    --text-muted: #06b6d4;

    --border-color: #a5f3fc;
    --border-light: #cffafe;

    --shadow-glow: 0 0 0 4px rgba(8, 145, 178, 0.15);
}

/* 高对比度主题 - Brutalist */
[data-theme="contrast"] {
    --primary: #000000;
    --primary-light: #333333;
    --primary-dark: #000000;
    --secondary: #ffffff;
    --accent: #ffff00;

    --success: #000000;
    --warning: #000000;
    --error: #000000;

    --bg-primary: #ffffff;
    --bg-secondary: #ffffff;
    --bg-tertiary: #eeeeee;
    --bg-elevated: #ffffff;

    --text-primary: #000000;
    --text-secondary: #000000;
    --text-muted: #000000;

    --border-color: #000000;
    --border-light: #000000;
    --border-width: 4px;

    --shadow-sm: 4px 4px 0 #000000;
    --shadow-md: 8px 8px 0 #000000;
    --shadow-lg: 12px 12px 0 #000000;
    --shadow-glow: 0 0 0 4px #000000;
}

/* 暗色模式 - Dark Magazine */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
        --primary: #60a5fa;
        --primary-light: #93c5fd;
        --primary-dark: #3b82f6;
        --secondary: #f472b6;
        --accent: #facc15;

        --bg-primary: #000000;
        --bg-secondary: #1c1c1e;
        --bg-tertiary: #2c2c2e;
        --bg-elevated: #2c2c2e;

        --text-primary: #ffffff;
        --text-secondary: #d1d1d6;
        --text-muted: #8e8e93;

        --border-color: #3a3a3c;
        --border-light: #2c2c2e;

        --shadow-sm: 2px 2px 0 rgba(255, 255, 255, 0.1);
        --shadow-md: 4px 4px 0 rgba(255, 255, 255, 0.1);
        --shadow-lg: 8px 8px 0 rgba(255, 255, 255, 0.1);
    }
}

/* 主题切换动画 */
body {
    transition: background-color 0.3s ease, color 0.3s ease;
}

*,
*::before,
*::after {
    transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);
}

/* The rest of the file (preview cards, gradient generator) can remain similar but using correct variables */
.theme-preview-card {
    padding: 20px;
    border-radius: var(--radius-md);
    border: 2px solid var(--border-color);
    background: var(--bg-secondary);
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);
    position: relative;
    overflow: hidden;
}

.theme-preview-card:hover {
    transform: translate(-4px, -4px);
    border-color: var(--primary);
    box-shadow: 4px 4px 0 var(--primary);
}

.theme-preview-card.active {
    border-color: var(--primary);
    background: var(--bg-secondary);
    box-shadow: 0 0 0 2px var(--primary);
}

.theme-preview-card::before {
    /* Optional: status indicator dot */
    content: '';
    position: absolute;
    top: 10px;
    right: 10px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--primary);
    opacity: 0;
    transform: scale(0);
    transition: all 0.2s;
}

.theme-preview-card.active::before {
    opacity: 1;
    transform: scale(1);
}

/* ... keep other utility definitions ... */